<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="762px" preserveAspectRatio="none" style="width:2220px;height:762px;background:#FFFFFF;" version="1.1" viewBox="0 0 2220 762" width="2220px" zoomAndPan="magnify"><defs/><g><!--MD5=[8f07f51d887e64eddc161f608ee0ddb0]
class Socket--><g id="elem_Socket"><rect codeLine="12" fill="#F1F1F1" height="162.0781" id="Socket" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="586" x="462" y="322"/><ellipse cx="726.75" cy="338" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M729.7188,343.6406 Q729.1406,343.9375 728.5,344.0781 Q727.8594,344.2344 727.1563,344.2344 Q724.6563,344.2344 723.3281,342.5938 Q722.0156,340.9375 722.0156,337.8125 Q722.0156,334.6875 723.3281,333.0313 Q724.6563,331.375 727.1563,331.375 Q727.8594,331.375 728.5,331.5313 Q729.1563,331.6875 729.7188,331.9844 L729.7188,334.7031 Q729.0938,334.125 728.5,333.8594 Q727.9063,333.5781 727.2813,333.5781 Q725.9375,333.5781 725.25,334.6563 Q724.5625,335.7188 724.5625,337.8125 Q724.5625,339.9063 725.25,340.9844 Q725.9375,342.0469 727.2813,342.0469 Q727.9063,342.0469 728.5,341.7813 Q729.0938,341.5 729.7188,340.9219 L729.7188,343.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="747.25" y="342.8467">Socket</text><line style="stroke:#181818;stroke-width:0.5;" x1="463" x2="1047" y1="354" y2="354"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="470" y="364.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="482" y="370.9951">socket_fd_: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="470" y="380.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="482" y="387.292">error_flag_: bool</text><line style="stroke:#181818;stroke-width:0.5;" x1="463" x2="1047" y1="394.5938" y2="394.5938"/><ellipse cx="473" cy="408.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="482" y="411.5889">bind(port: uint16_t): bool</text><ellipse cx="473" cy="424.5391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="511" x="482" y="427.8857">send(can_frame: CanFrame, dest_ip: std::string, dest_port: uint16_t): bool</text><ellipse cx="473" cy="440.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="560" x="482" y="444.1826">receive(can_frame: CanFrame, source_ip: std::string, source_port: uint16_t): bool</text><ellipse cx="473" cy="457.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="482" y="460.4795">getSocketFD(): int</text><ellipse cx="473" cy="473.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="482" y="476.7764">hasError(): bool</text></g><!--MD5=[bed7f574d20965a258245cb0b808833b]
class SocketObserver--><g id="elem_SocketObserver"><rect codeLine="22" fill="#F1F1F1" height="64.2969" id="SocketObserver" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="233" x="1761.5" y="197"/><ellipse cx="1818.25" cy="213" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1821.2188,218.6406 Q1820.6406,218.9375 1820,219.0781 Q1819.3594,219.2344 1818.6563,219.2344 Q1816.1563,219.2344 1814.8281,217.5938 Q1813.5156,215.9375 1813.5156,212.8125 Q1813.5156,209.6875 1814.8281,208.0313 Q1816.1563,206.375 1818.6563,206.375 Q1819.3594,206.375 1820,206.5313 Q1820.6563,206.6875 1821.2188,206.9844 L1821.2188,209.7031 Q1820.5938,209.125 1820,208.8594 Q1819.4063,208.5781 1818.7813,208.5781 Q1817.4375,208.5781 1816.75,209.6563 Q1816.0625,210.7188 1816.0625,212.8125 Q1816.0625,214.9063 1816.75,215.9844 Q1817.4375,217.0469 1818.7813,217.0469 Q1819.4063,217.0469 1820,216.7813 Q1820.5938,216.5 1821.2188,215.9219 L1821.2188,218.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="1838.75" y="217.8467">SocketObserver</text><line style="stroke:#181818;stroke-width:0.5;" x1="1762.5" x2="1993.5" y1="229" y2="229"/><line style="stroke:#181818;stroke-width:0.5;" x1="1762.5" x2="1993.5" y1="237" y2="237"/><ellipse cx="1772.5" cy="250.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207" x="1781.5" y="253.9951">update(socket: Socket*): void</text></g><!--MD5=[df431f9cacff6be48f8596da1f1f097c]
class SocketException--><g id="elem_SocketException"><rect codeLine="26" fill="#F1F1F1" height="96.8906" id="SocketException" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="407" x="1310.5" y="354.5"/><ellipse cx="1451.75" cy="370.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1454.7188,376.1406 Q1454.1406,376.4375 1453.5,376.5781 Q1452.8594,376.7344 1452.1563,376.7344 Q1449.6563,376.7344 1448.3281,375.0938 Q1447.0156,373.4375 1447.0156,370.3125 Q1447.0156,367.1875 1448.3281,365.5313 Q1449.6563,363.875 1452.1563,363.875 Q1452.8594,363.875 1453.5,364.0313 Q1454.1563,364.1875 1454.7188,364.4844 L1454.7188,367.2031 Q1454.0938,366.625 1453.5,366.3594 Q1452.9063,366.0781 1452.2813,366.0781 Q1450.9375,366.0781 1450.25,367.1563 Q1449.5625,368.2188 1449.5625,370.3125 Q1449.5625,372.4063 1450.25,373.4844 Q1450.9375,374.5469 1452.2813,374.5469 Q1452.9063,374.5469 1453.5,374.2813 Q1454.0938,374 1454.7188,373.4219 L1454.7188,376.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1472.25" y="375.3467">SocketException</text><line style="stroke:#181818;stroke-width:0.5;" x1="1311.5" x2="1716.5" y1="386.5" y2="386.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1330.5" y="403.4951">«inherits»</text><ellipse cx="1321.5" cy="416.4453" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="1330.5" y="419.792">std::runtime_error</text><line style="stroke:#181818;stroke-width:0.5;" x1="1311.5" x2="1716.5" y1="427.0938" y2="427.0938"/><ellipse cx="1321.5" cy="440.7422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="381" x="1330.5" y="444.0889">SocketException(message: const std::string&amp;): explicit</text></g><!--MD5=[a25c365746e248f478f6f6992d6cd34f]
class ErrorLogger--><g id="elem_ErrorLogger"><rect codeLine="32" fill="#F1F1F1" height="64.2969" id="ErrorLogger" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="233" x="1980.5" y="371"/><ellipse cx="2052.25" cy="387" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2055.2188,392.6406 Q2054.6406,392.9375 2054,393.0781 Q2053.3594,393.2344 2052.6563,393.2344 Q2050.1563,393.2344 2048.8281,391.5938 Q2047.5156,389.9375 2047.5156,386.8125 Q2047.5156,383.6875 2048.8281,382.0313 Q2050.1563,380.375 2052.6563,380.375 Q2053.3594,380.375 2054,380.5313 Q2054.6563,380.6875 2055.2188,380.9844 L2055.2188,383.7031 Q2054.5938,383.125 2054,382.8594 Q2053.4063,382.5781 2052.7813,382.5781 Q2051.4375,382.5781 2050.75,383.6563 Q2050.0625,384.7188 2050.0625,386.8125 Q2050.0625,388.9063 2050.75,389.9844 Q2051.4375,391.0469 2052.7813,391.0469 Q2053.4063,391.0469 2054,390.7813 Q2054.5938,390.5 2055.2188,389.9219 L2055.2188,392.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="2072.75" y="391.8467">ErrorLogger</text><line style="stroke:#181818;stroke-width:0.5;" x1="1981.5" x2="2212.5" y1="403" y2="403"/><line style="stroke:#181818;stroke-width:0.5;" x1="1981.5" x2="2212.5" y1="411" y2="411"/><ellipse cx="1991.5" cy="424.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207" x="2000.5" y="427.9951">update(socket: Socket*): void</text></g><!--MD5=[74c72a688209b27890b5c38460ae31c9]
class UDPSocket--><g id="elem_UDPSocket"><rect codeLine="36" fill="#F1F1F1" height="145.7813" id="UDPSocket" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="578" x="810" y="585.5"/><ellipse cx="1055.75" cy="601.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1058.7188,607.1406 Q1058.1406,607.4375 1057.5,607.5781 Q1056.8594,607.7344 1056.1563,607.7344 Q1053.6563,607.7344 1052.3281,606.0938 Q1051.0156,604.4375 1051.0156,601.3125 Q1051.0156,598.1875 1052.3281,596.5313 Q1053.6563,594.875 1056.1563,594.875 Q1056.8594,594.875 1057.5,595.0313 Q1058.1563,595.1875 1058.7188,595.4844 L1058.7188,598.2031 Q1058.0938,597.625 1057.5,597.3594 Q1056.9063,597.0781 1056.2813,597.0781 Q1054.9375,597.0781 1054.25,598.1563 Q1053.5625,599.2188 1053.5625,601.3125 Q1053.5625,603.4063 1054.25,604.4844 Q1054.9375,605.5469 1056.2813,605.5469 Q1056.9063,605.5469 1057.5,605.2813 Q1058.0938,605 1058.7188,604.4219 L1058.7188,607.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1076.25" y="606.3467">UDPSocket</text><line style="stroke:#181818;stroke-width:0.5;" x1="811" x2="1387" y1="617.5" y2="617.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="811" x2="1387" y1="625.5" y2="625.5"/><ellipse cx="821" cy="639.1484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="830" y="642.4951">UDPSocket()</text><ellipse cx="821" cy="655.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="830" y="658.792">~UDPSocket()</text><ellipse cx="821" cy="671.7422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="830" y="675.0889">bind(port: uint16_t): bool</text><ellipse cx="821" cy="688.0391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="534" x="830" y="691.3857">send(frame: CanFrame, dest_ip: const std::string&amp;, dest_port: uint16_t): bool</text><ellipse cx="821" cy="704.3359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="552" x="830" y="707.6826">receive(frame: CanFrame, source_ip: std::string&amp;, source_port: uint16_t&amp;): bool</text><ellipse cx="821" cy="720.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="830" y="723.9795">close(): void</text></g><!--MD5=[8728b258bf447ef8b930be378bd382a7]
class TCPSocket--><g id="elem_TCPSocket"><rect codeLine="45" fill="#F1F1F1" height="194.6719" id="TCPSocket" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="578" x="1423" y="561"/><ellipse cx="1669.75" cy="577" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1672.7188,582.6406 Q1672.1406,582.9375 1671.5,583.0781 Q1670.8594,583.2344 1670.1563,583.2344 Q1667.6563,583.2344 1666.3281,581.5938 Q1665.0156,579.9375 1665.0156,576.8125 Q1665.0156,573.6875 1666.3281,572.0313 Q1667.6563,570.375 1670.1563,570.375 Q1670.8594,570.375 1671.5,570.5313 Q1672.1563,570.6875 1672.7188,570.9844 L1672.7188,573.7031 Q1672.0938,573.125 1671.5,572.8594 Q1670.9063,572.5781 1670.2813,572.5781 Q1668.9375,572.5781 1668.25,573.6563 Q1667.5625,574.7188 1667.5625,576.8125 Q1667.5625,578.9063 1668.25,579.9844 Q1668.9375,581.0469 1670.2813,581.0469 Q1670.9063,581.0469 1671.5,580.7813 Q1672.0938,580.5 1672.7188,579.9219 L1672.7188,582.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1690.25" y="581.8467">TCPSocket</text><line style="stroke:#181818;stroke-width:0.5;" x1="1424" x2="2000" y1="593" y2="593"/><line style="stroke:#181818;stroke-width:0.5;" x1="1424" x2="2000" y1="601" y2="601"/><ellipse cx="1434" cy="614.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="1443" y="617.9951">TCPSocket()</text><ellipse cx="1434" cy="630.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1443" y="634.292">~TCPSocket()</text><ellipse cx="1434" cy="647.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="1443" y="650.5889">bind(port: uint16_t): bool</text><ellipse cx="1434" cy="663.5391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="1443" y="666.8857">listen(backlog: int): bool</text><ellipse cx="1434" cy="679.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="278" x="1443" y="683.1826">accept(clientSocket: TCPSocket&amp;): bool</text><ellipse cx="1434" cy="696.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="417" x="1443" y="699.4795">connect(ip_address: const std::string&amp;, port: uint16_t): bool</text><ellipse cx="1434" cy="712.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="534" x="1443" y="715.7764">send(frame: CanFrame, dest_ip: const std::string&amp;, dest_port: uint16_t): bool</text><ellipse cx="1434" cy="728.7266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="552" x="1443" y="732.0732">receive(frame: CanFrame, source_ip: std::string&amp;, source_port: uint16_t&amp;): bool</text><ellipse cx="1434" cy="745.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1443" y="748.3701">close(): void</text></g><!--MD5=[39124c94d20772991483765f73694b3b]
class SocketFactory--><g id="elem_SocketFactory"><rect codeLine="57" fill="#F1F1F1" height="64.2969" id="SocketFactory" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="192" x="1083" y="197"/><ellipse cx="1125.9" cy="213" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1128.8688,218.6406 Q1128.2906,218.9375 1127.65,219.0781 Q1127.0094,219.2344 1126.3063,219.2344 Q1123.8063,219.2344 1122.4781,217.5938 Q1121.1656,215.9375 1121.1656,212.8125 Q1121.1656,209.6875 1122.4781,208.0313 Q1123.8063,206.375 1126.3063,206.375 Q1127.0094,206.375 1127.65,206.5313 Q1128.3063,206.6875 1128.8688,206.9844 L1128.8688,209.7031 Q1128.2438,209.125 1127.65,208.8594 Q1127.0563,208.5781 1126.4313,208.5781 Q1125.0875,208.5781 1124.4,209.6563 Q1123.7125,210.7188 1123.7125,212.8125 Q1123.7125,214.9063 1124.4,215.9844 Q1125.0875,217.0469 1126.4313,217.0469 Q1127.0563,217.0469 1127.65,216.7813 Q1128.2438,216.5 1128.8688,215.9219 L1128.8688,218.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1146.1" y="217.8467">SocketFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="1084" x2="1274" y1="229" y2="229"/><line style="stroke:#181818;stroke-width:0.5;" x1="1084" x2="1274" y1="237" y2="237"/><ellipse cx="1094" cy="250.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="1103" y="253.9951">createSocket(): Socket*</text></g><!--MD5=[6b04347143398d55faf945e44273b85c]
class UDPSocketFactory--><g id="elem_UDPSocketFactory"><rect codeLine="61" fill="#F1F1F1" height="64.2969" id="UDPSocketFactory" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="192" x="1753" y="371"/><ellipse cx="1782.4" cy="387" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1785.3688,392.6406 Q1784.7906,392.9375 1784.15,393.0781 Q1783.5094,393.2344 1782.8063,393.2344 Q1780.3063,393.2344 1778.9781,391.5938 Q1777.6656,389.9375 1777.6656,386.8125 Q1777.6656,383.6875 1778.9781,382.0313 Q1780.3063,380.375 1782.8063,380.375 Q1783.5094,380.375 1784.15,380.5313 Q1784.8063,380.6875 1785.3688,380.9844 L1785.3688,383.7031 Q1784.7438,383.125 1784.15,382.8594 Q1783.5563,382.5781 1782.9313,382.5781 Q1781.5875,382.5781 1780.9,383.6563 Q1780.2125,384.7188 1780.2125,386.8125 Q1780.2125,388.9063 1780.9,389.9844 Q1781.5875,391.0469 1782.9313,391.0469 Q1783.5563,391.0469 1784.15,390.7813 Q1784.7438,390.5 1785.3688,389.9219 L1785.3688,392.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="1799.6" y="391.8467">UDPSocketFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="1754" x2="1944" y1="403" y2="403"/><line style="stroke:#181818;stroke-width:0.5;" x1="1754" x2="1944" y1="411" y2="411"/><ellipse cx="1764" cy="424.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="1773" y="427.9951">createSocket(): Socket*</text></g><!--MD5=[eda54cfefae176d977f17023a7f54b0a]
class TCPSocketFactory--><g id="elem_TCPSocketFactory"><rect codeLine="65" fill="#F1F1F1" height="64.2969" id="TCPSocketFactory" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="192" x="1083" y="371"/><ellipse cx="1113.3" cy="387" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1116.2688,392.6406 Q1115.6906,392.9375 1115.05,393.0781 Q1114.4094,393.2344 1113.7063,393.2344 Q1111.2063,393.2344 1109.8781,391.5938 Q1108.5656,389.9375 1108.5656,386.8125 Q1108.5656,383.6875 1109.8781,382.0313 Q1111.2063,380.375 1113.7063,380.375 Q1114.4094,380.375 1115.05,380.5313 Q1115.7063,380.6875 1116.2688,380.9844 L1116.2688,383.7031 Q1115.6438,383.125 1115.05,382.8594 Q1114.4563,382.5781 1113.8313,382.5781 Q1112.4875,382.5781 1111.8,383.6563 Q1111.1125,384.7188 1111.1125,386.8125 Q1111.1125,388.9063 1111.8,389.9844 Q1112.4875,391.0469 1113.8313,391.0469 Q1114.4563,391.0469 1115.05,390.7813 Q1115.6438,390.5 1116.2688,389.9219 L1116.2688,392.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="1130.7" y="391.8467">TCPSocketFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="1084" x2="1274" y1="403" y2="403"/><line style="stroke:#181818;stroke-width:0.5;" x1="1084" x2="1274" y1="411" y2="411"/><ellipse cx="1094" cy="424.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="1103" y="427.9951">createSocket(): Socket*</text></g><!--MD5=[e06f62a07b6932c463feac5c77aa5ac9]
class SocketManager--><g id="elem_SocketManager"><rect codeLine="69" fill="#F1F1F1" height="129.4844" id="SocketManager" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="353" x="1002.5" y="7"/><ellipse cx="1120.75" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1123.7188,28.6406 Q1123.1406,28.9375 1122.5,29.0781 Q1121.8594,29.2344 1121.1563,29.2344 Q1118.6563,29.2344 1117.3281,27.5938 Q1116.0156,25.9375 1116.0156,22.8125 Q1116.0156,19.6875 1117.3281,18.0313 Q1118.6563,16.375 1121.1563,16.375 Q1121.8594,16.375 1122.5,16.5313 Q1123.1563,16.6875 1123.7188,16.9844 L1123.7188,19.7031 Q1123.0938,19.125 1122.5,18.8594 Q1121.9063,18.5781 1121.2813,18.5781 Q1119.9375,18.5781 1119.25,19.6563 Q1118.5625,20.7188 1118.5625,22.8125 Q1118.5625,24.9063 1119.25,25.9844 Q1119.9375,27.0469 1121.2813,27.0469 Q1121.9063,27.0469 1122.5,26.7813 Q1123.0938,26.5 1123.7188,25.9219 L1123.7188,28.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1141.25" y="27.8467">SocketManager</text><line style="stroke:#181818;stroke-width:0.5;" x1="1003.5" x2="1354.5" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="1003.5" x2="1354.5" y1="47" y2="47"/><ellipse cx="1013.5" cy="60.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221" x="1022.5" y="63.9951">getInstance(): SocketManager&amp;</text><ellipse cx="1013.5" cy="76.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="1022.5" y="80.292">getSocket(): Socket*</text><ellipse cx="1013.5" cy="93.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="327" x="1022.5" y="96.5889">setSocketFactory(factory: SocketFactory*): void</text><ellipse cx="1013.5" cy="109.5391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="324" x="1022.5" y="112.8857">addObserver(observer: SocketObserver*): void</text><ellipse cx="1013.5" cy="125.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="1022.5" y="129.1826">notifyObservers(socket: Socket*): void</text></g><!--MD5=[7fc76726e1e4bd226926068bcd354fb5]
class SocketDecorator--><g id="elem_SocketDecorator"><rect codeLine="77" fill="#F1F1F1" height="113.1875" id="SocketDecorator" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="586" x="7" y="602"/><ellipse cx="237.25" cy="618" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M240.2188,623.6406 Q239.6406,623.9375 239,624.0781 Q238.3594,624.2344 237.6563,624.2344 Q235.1563,624.2344 233.8281,622.5938 Q232.5156,620.9375 232.5156,617.8125 Q232.5156,614.6875 233.8281,613.0313 Q235.1563,611.375 237.6563,611.375 Q238.3594,611.375 239,611.5313 Q239.6563,611.6875 240.2188,611.9844 L240.2188,614.7031 Q239.5938,614.125 239,613.8594 Q238.4063,613.5781 237.7813,613.5781 Q236.4375,613.5781 235.75,614.6563 Q235.0625,615.7188 235.0625,617.8125 Q235.0625,619.9063 235.75,620.9844 Q236.4375,622.0469 237.7813,622.0469 Q238.4063,622.0469 239,621.7813 Q239.5938,621.5 240.2188,620.9219 L240.2188,623.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="257.75" y="622.8467">SocketDecorator</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="592" y1="634" y2="634"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="644.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="27" y="650.9951">wrapped_: Socket*</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="592" y1="658.2969" y2="658.2969"/><ellipse cx="18" cy="671.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="251" x="27" y="675.292">SocketDecorator(wrapped: Socket*)</text><ellipse cx="18" cy="688.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="511" x="27" y="691.5889">send(can_frame: CanFrame, dest_ip: std::string, dest_port: uint16_t): bool</text><ellipse cx="18" cy="704.5391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="560" x="27" y="707.8857">receive(can_frame: CanFrame, source_ip: std::string, source_port: uint16_t): bool</text></g><!--MD5=[994036f8e93225164610d6e2e301e1a9]
class CanFrame--><g id="elem_CanFrame"><rect codeLine="84" fill="#F1F1F1" height="113.1875" id="CanFrame" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147" x="628.5" y="602"/><ellipse cx="663.75" cy="618" fill="#F1F1F1" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M663.2344,618.5625 Q661.375,617.8594 660.7188,617.0938 Q660.0781,616.3125 660.0781,615 Q660.0781,613.3125 661.1563,612.3438 Q662.2344,611.375 664.1094,611.375 Q664.9688,611.375 665.8125,611.5781 Q666.6719,611.7656 667.5156,612.1563 L667.5156,614.5469 Q666.7344,613.9844 665.9063,613.7031 Q665.0938,613.4063 664.2969,613.4063 Q663.4219,613.4063 662.9375,613.7656 Q662.4688,614.125 662.4688,614.7813 Q662.4688,615.2969 662.8125,615.6406 Q663.1563,615.9688 664.25,616.375 L665.3125,616.7813 Q666.7969,617.3281 667.5,618.2344 Q668.2188,619.1406 668.2188,620.5156 Q668.2188,622.3906 667.1094,623.3125 Q666,624.2344 663.75,624.2344 Q662.8281,624.2344 661.9063,624.0156 Q660.9844,623.7969 660.125,623.375 L660.125,620.8438 Q661.0938,621.5313 662.0156,621.875 Q662.9375,622.2188 663.8281,622.2188 Q664.7344,622.2188 665.2344,621.8125 Q665.7344,621.3906 665.7344,620.6563 Q665.7344,620.0938 665.3906,619.6875 Q665.0625,619.2656 664.4375,619.0156 L663.2344,618.5625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="682.25" y="622.8467">CanFrame</text><line style="stroke:#181818;stroke-width:0.5;" x1="629.5" x2="774.5" y1="634" y2="634"/><ellipse cx="639.5" cy="647.6484" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="648.5" y="650.9951">id_: uint32_t</text><ellipse cx="639.5" cy="663.9453" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="648.5" y="667.292">rtr_: uint32_t</text><ellipse cx="639.5" cy="680.2422" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="648.5" y="683.5889">dlc_: uint8_t</text><ellipse cx="639.5" cy="696.5391" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="648.5" y="699.8857">data_: uint8_t[64]</text><line style="stroke:#181818;stroke-width:0.5;" x1="629.5" x2="774.5" y1="707.1875" y2="707.1875"/></g><!--MD5=[689a9920dcc14e2e84637dd0ebe61bc3]
reverse link SocketObserver to ErrorLogger--><g id="link_SocketObserver_ErrorLogger"><path codeLine="102" d="M1933.39,273.51 C1972.01,303.84 2022.62,343.58 2057.27,370.79 " fill="none" id="SocketObserver-backto-ErrorLogger" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1929.06,279.01,1917.66,261.15,1937.71,268,1929.06,279.01" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1350f38fcbd2ed85bddd06520a9ff1ab]
reverse link Socket to TCPSocket--><g id="link_Socket_TCPSocket"><path codeLine="104" d="M1067.74,484.6 C1218.95,520.55 1261.4,522.24 1405,561 C1410.93,562.6 1416.92,564.24 1422.95,565.92 " fill="none" id="Socket-backto-TCPSocket" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1066.05,491.39,1048.24,479.92,1069.32,477.78,1066.05,491.39" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[427ff176960090ebe7815f2dfe2d2490]
reverse link Socket to UDPSocket--><g id="link_Socket_UDPSocket"><path codeLine="105" d="M880.08,496.18 C919.93,525.54 963.42,557.59 1001.06,585.32 " fill="none" id="Socket-backto-UDPSocket" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="875.79,501.71,863.84,484.21,884.1,490.44,875.79,501.71" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[156a3ebb7373afc75e1e11f3cff3c3c9]
reverse link Socket to SocketDecorator--><g id="link_Socket_SocketDecorator"><path codeLine="106" d="M593.76,493.83 C529.03,529.9 456.45,570.33 399.64,601.99 " fill="none" id="Socket-backto-SocketDecorator" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="590.47,487.65,611.35,484.03,597.28,499.88,590.47,487.65" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[2ef184ddddd16359e191e297ea49eb74]
reverse link SocketFactory to UDPSocketFactory--><g id="link_SocketFactory_UDPSocketFactory"><path codeLine="108" d="M1295.28,234.22 C1410.69,241.83 1590.71,263.04 1735,322 C1763.65,333.71 1792.15,353.71 1813.49,370.78 " fill="none" id="SocketFactory-backto-UDPSocketFactory" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1294.75,241.21,1275.22,233,1295.61,227.23,1294.75,241.21" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[b6db12949c600322779e25069a90be7b]
reverse link SocketFactory to TCPSocketFactory--><g id="link_SocketFactory_TCPSocketFactory"><path codeLine="109" d="M1179,281.41 C1179,310.49 1179,345.89 1179,370.79 " fill="none" id="SocketFactory-backto-TCPSocketFactory" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1172,281.15,1179,261.15,1186,281.15,1172,281.15" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[d38cbbfade706151a51afeb573773bdb]
link SocketFactory to Socket--><g id="link_SocketFactory_Socket"><path codeLine="110" d="M1091.1002,265.6612 C1091.1002,265.6612 1008.96,298.98 964.77,316.91 " fill="none" id="SocketFactory-Socket" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="952.62,321.83,962.4636,322.1532,957.2532,319.9503,959.4561,314.74,952.62,321.83" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="957.2532" x2="964.67" y1="319.9503" y2="316.945"/><polygon fill="none" points="1102.22,261.15,1095.1564,259.699,1091.1002,265.6612,1098.1639,267.1122,1102.22,261.15" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[6bdb9310ec904145aed7af6b4313136c]
link SocketManager to Socket--><g id="link_SocketManager_Socket"><path codeLine="112" d="M1087.7813,143.4019 C1087.7813,143.4019 936.89,260.65 868.65,313.68 " fill="none" id="SocketManager-Socket" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="858.28,321.74,867.8388,319.3673,862.2253,318.6684,862.9242,313.0549,858.28,321.74" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="862.2253" x2="868.545" y1="318.6684" y2="313.76"/><polygon fill="none" points="1097.25,136.03,1090.0584,136.5597,1087.7813,143.4019,1094.9729,142.8722,1097.25,136.03" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1089b27f4886107fb2df2e8b38c19374]
link SocketManager to SocketFactory--><g id="link_SocketManager_SocketFactory"><path codeLine="113" d="M1179,148.2 C1179,148.2 1179,172.96 1179,183.63 " fill="none" id="SocketManager-SocketFactory" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1179,196.96,1183,187.96,1179,191.96,1175,187.96,1179,196.96" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1179" x2="1179" y1="191.96" y2="183.96"/><polygon fill="none" points="1179,136.2,1175,142.2,1179,148.2,1183,142.2,1179,136.2" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[e80026ec9d6155a7b5183cff90278b2f]
link SocketManager to SocketObserver--><g id="link_SocketManager_SocketObserver"><path codeLine="114" d="M1367.5524,114.4515 C1367.5524,114.4515 1641.92,175.48 1748.6,199.21 " fill="none" id="SocketManager-SocketObserver" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1761.37,202.05,1753.4562,196.1872,1756.4898,200.9619,1751.7152,203.9955,1761.37,202.05" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1756.4898" x2="1748.68" y1="200.9619" y2="199.23"/><polygon fill="none" points="1355.84,111.84,1360.8257,117.0499,1367.5524,114.4515,1362.5667,109.2416,1355.84,111.84" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[3bfae1b33c36d3f0a156a01bac0da622]
link SocketException to UDPSocket--><g id="link_SocketException_UDPSocket"><path codeLine="116" d="M1435.94,451.68 C1374.31,489.33 1287.31,542.47 1217.15,585.33 " fill="none" id="SocketException-UDPSocket" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="1333" y="527.0669">«use»</text></g><!--MD5=[e7c70ac9cb8c276a5476631f1d4c3680]
link SocketException to TCPSocket--><g id="link_SocketException_TCPSocket"><path codeLine="117" d="M1551.24,451.68 C1575.27,482.45 1607.38,523.56 1636.59,560.95 " fill="none" id="SocketException-TCPSocket" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="1614" y="527.0669">«use»</text></g><!--MD5=[f5d6f98119c56227615fc3d02ee34fba]
link Socket to CanFrame--><g id="link_Socket_CanFrame"><path codeLine="119" d="M738.23,484.21 C730.22,522.5 720.84,567.38 713.63,601.87 " fill="none" id="Socket-CanFrame" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[b5d7e3c3ed5e2dcb75e43297eb9d418e]
@startuml Communication diagram

' - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
' Element declaration
' - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
' Visibility
' - - - - - - - - - -
' - | private
' # | protected
' ~ | package private
' + | public

class Socket {
    +bind(port: uint16_t): bool
    +send(can_frame: CanFrame, dest_ip: std::string, dest_port: uint16_t): bool
    +receive(can_frame: CanFrame, source_ip: std::string, source_port: uint16_t): bool
    +getSocketFD(): int
    +hasError(): bool
    -socket_fd_: int
    -error_flag_: bool
}

class SocketObserver {
    +update(socket: Socket*): void
}

class SocketException {
    +SocketException(message: const std::string&): explicit
    <<inherits>>
    +std::runtime_error
}

class ErrorLogger {
    +update(socket: Socket*): void
}

class UDPSocket {
    +UDPSocket()
    +~UDPSocket()
    +bind(port: uint16_t): bool
    +send(frame: CanFrame, dest_ip: const std::string&, dest_port: uint16_t): bool
    +receive(frame: CanFrame, source_ip: std::string&, source_port: uint16_t&): bool
    +close(): void
}

class TCPSocket {
    +TCPSocket()
    +~TCPSocket()
    +bind(port: uint16_t): bool
    +listen(backlog: int): bool
    +accept(clientSocket: TCPSocket&): bool
    +connect(ip_address: const std::string&, port: uint16_t): bool
    +send(frame: CanFrame, dest_ip: const std::string&, dest_port: uint16_t): bool
    +receive(frame: CanFrame, source_ip: std::string&, source_port: uint16_t&): bool
    +close(): void
}

class SocketFactory {
    +createSocket(): Socket*
}

class UDPSocketFactory {
    +createSocket(): Socket*
}

class TCPSocketFactory {
    +createSocket(): Socket*
}

class SocketManager {
    +getInstance(): SocketManager&
    +getSocket(): Socket*
    +setSocketFactory(factory: SocketFactory*): void
    +addObserver(observer: SocketObserver*): void
    +notifyObservers(socket: Socket*): void
}

class SocketDecorator {
    +SocketDecorator(wrapped: Socket*)
    +send(can_frame: CanFrame, dest_ip: std::string, dest_port: uint16_t): bool
    +receive(can_frame: CanFrame, source_ip: std::string, source_port: uint16_t): bool
    -wrapped_: Socket*
}

struct CanFrame {
    +id_: uint32_t
    +rtr_: uint32_t
    +dlc_: uint8_t
    +data_: uint8_t[64]
}

' - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
' Relations between classes
' - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
' - -   | Association
' o- -  | Aggregation
' *- -  | Composition
' <|- - | Generalization / inheritance
' <|.. | Realization/Implementation
' <..  | Dependency
' <- -  | Transition

SocketObserver <|- - ErrorLogger

Socket <|- - TCPSocket
Socket <|- - UDPSocket
Socket <|- - SocketDecorator

SocketFactory <|- - UDPSocketFactory
SocketFactory <|- - TCPSocketFactory
SocketFactory o- -> Socket

SocketManager o- -> Socket
SocketManager o- -> SocketFactory
SocketManager o- -> SocketObserver

SocketException - - UDPSocket: <<use>>
SocketException - - TCPSocket: <<use>>

Socket - - CanFrame

@enduml

@startuml Communication diagram


class Socket {
    +bind(port: uint16_t): bool
    +send(can_frame: CanFrame, dest_ip: std::string, dest_port: uint16_t): bool
    +receive(can_frame: CanFrame, source_ip: std::string, source_port: uint16_t): bool
    +getSocketFD(): int
    +hasError(): bool
    -socket_fd_: int
    -error_flag_: bool
}

class SocketObserver {
    +update(socket: Socket*): void
}

class SocketException {
    +SocketException(message: const std::string&): explicit
    <<inherits>>
    +std::runtime_error
}

class ErrorLogger {
    +update(socket: Socket*): void
}

class UDPSocket {
    +UDPSocket()
    +~UDPSocket()
    +bind(port: uint16_t): bool
    +send(frame: CanFrame, dest_ip: const std::string&, dest_port: uint16_t): bool
    +receive(frame: CanFrame, source_ip: std::string&, source_port: uint16_t&): bool
    +close(): void
}

class TCPSocket {
    +TCPSocket()
    +~TCPSocket()
    +bind(port: uint16_t): bool
    +listen(backlog: int): bool
    +accept(clientSocket: TCPSocket&): bool
    +connect(ip_address: const std::string&, port: uint16_t): bool
    +send(frame: CanFrame, dest_ip: const std::string&, dest_port: uint16_t): bool
    +receive(frame: CanFrame, source_ip: std::string&, source_port: uint16_t&): bool
    +close(): void
}

class SocketFactory {
    +createSocket(): Socket*
}

class UDPSocketFactory {
    +createSocket(): Socket*
}

class TCPSocketFactory {
    +createSocket(): Socket*
}

class SocketManager {
    +getInstance(): SocketManager&
    +getSocket(): Socket*
    +setSocketFactory(factory: SocketFactory*): void
    +addObserver(observer: SocketObserver*): void
    +notifyObservers(socket: Socket*): void
}

class SocketDecorator {
    +SocketDecorator(wrapped: Socket*)
    +send(can_frame: CanFrame, dest_ip: std::string, dest_port: uint16_t): bool
    +receive(can_frame: CanFrame, source_ip: std::string, source_port: uint16_t): bool
    -wrapped_: Socket*
}

struct CanFrame {
    +id_: uint32_t
    +rtr_: uint32_t
    +dlc_: uint8_t
    +data_: uint8_t[64]
}


SocketObserver <|- - ErrorLogger

Socket <|- - TCPSocket
Socket <|- - UDPSocket
Socket <|- - SocketDecorator

SocketFactory <|- - UDPSocketFactory
SocketFactory <|- - TCPSocketFactory
SocketFactory o- -> Socket

SocketManager o- -> Socket
SocketManager o- -> SocketFactory
SocketManager o- -> SocketObserver

SocketException - - UDPSocket: <<use>>
SocketException - - TCPSocket: <<use>>

Socket - - CanFrame

@enduml

PlantUML version 1.2022.7(Tue Aug 23 02:01:30 JST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>